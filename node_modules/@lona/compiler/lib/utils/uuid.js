"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const uuid_1 = require("uuid");
// Math.random()-based (RNG)
//
// when executing uuid in JSCore, we don't have access to Crypto,
// so it fails. Instead we will fallback to a Math.random RNG.
// We don't really care about enthropy so it's fine.
function rng() {
    var rnds = new Array(16);
    for (var i = 0, r; i < 16; i++) {
        if ((i & 0x03) === 0)
            r = Math.random() * 0x100000000;
        // @ts-ignore
        rnds[i] = (r >>> ((i & 0x03) << 3)) & 0xff;
    }
    return rnds;
}
exports.rng = rng;
exports.uuid = () => {
    return uuid_1.v4({ rng });
};
